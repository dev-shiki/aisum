{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"loading-box\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"output-section\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = [\"innerHTML\"];\nconst _hoisted_8 = {\n  key: 2\n};\nconst _hoisted_9 = [\"innerHTML\"];\nconst _hoisted_10 = {\n  key: 4\n};\nconst _hoisted_11 = [\"innerHTML\"];\nconst _hoisted_12 = {\n  key: 2,\n  class: \"error-box\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", null, [_createElementVNode(\"span\", {\n    class: \"icon\"\n  }, \"üìÑ\"), _createTextVNode(\" Meeting Summarizer \")], -1 /* HOISTED */)), _createCommentVNode(\" File Upload Section \"), _createElementVNode(\"div\", {\n    class: \"upload-box\",\n    onClick: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.triggerFileInput && $options.triggerFileInput(...args), [\"self\"]))\n  }, [!$data.fileName ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \"üéµ Klik di sini untuk mengunggah file MP3\")) : (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \"üìÇ \" + _toDisplayString($data.fileName), 1 /* TEXT */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    ref: \"fileInput\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args)),\n    accept: \".mp3\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)]), _createCommentVNode(\" Loading Animation \"), $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _cache[2] || (_cache[2] = [_createElementVNode(\"p\", null, \"‚è≥ Memproses... Mohon tunggu\", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Display Results \"), !$data.isLoading && ($data.transcription || $data.summary || $data.finalSummary) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [$data.transcription ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_6, \"üìÑ Transcription\")) : _createCommentVNode(\"v-if\", true), $data.transcription ? (_openBlock(), _createElementBlock(\"p\", {\n    key: 1,\n    innerHTML: $options.formattedTranscription\n  }, null, 8 /* PROPS */, _hoisted_7)) : _createCommentVNode(\"v-if\", true), $data.summary ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_8, \"üìù Summary\")) : _createCommentVNode(\"v-if\", true), $data.summary ? (_openBlock(), _createElementBlock(\"p\", {\n    key: 3,\n    innerHTML: $options.formattedSummary\n  }, null, 8 /* PROPS */, _hoisted_9)) : _createCommentVNode(\"v-if\", true), $data.finalSummary ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_10, \"üìå Final Summary\")) : _createCommentVNode(\"v-if\", true), $data.finalSummary ? (_openBlock(), _createElementBlock(\"p\", {\n    key: 5,\n    innerHTML: $options.formattedFinalSummary\n  }, null, 8 /* PROPS */, _hoisted_11)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Error Message \"), $data.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createElementVNode(\"p\", null, \"‚ö†Ô∏è \" + _toDisplayString($data.errorMessage), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_createTextVNode","_createCommentVNode","onClick","_cache","_withModifiers","args","$options","triggerFileInput","$data","fileName","_hoisted_2","_hoisted_3","_toDisplayString","type","ref","onChange","handleFileUpload","accept","isLoading","_hoisted_4","transcription","summary","finalSummary","_hoisted_5","_hoisted_6","innerHTML","formattedTranscription","_hoisted_7","_hoisted_8","formattedSummary","_hoisted_9","_hoisted_10","formattedFinalSummary","_hoisted_11","errorMessage","_hoisted_12"],"sources":["D:\\app\\meeting-summarizer\\src\\components\\FileUploader.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2>\r\n      <span class=\"icon\">üìÑ</span> Meeting Summarizer\r\n    </h2>\r\n\r\n    <!-- File Upload Section -->\r\n    <div class=\"upload-box\" @click.self=\"triggerFileInput\">\r\n      <p v-if=\"!fileName\">üéµ Klik di sini untuk mengunggah file MP3</p>\r\n      <p v-else>üìÇ {{ fileName }}</p>\r\n      <input type=\"file\" ref=\"fileInput\" @change=\"handleFileUpload\" accept=\".mp3\" />\r\n    </div>\r\n\r\n    <!-- Loading Animation -->\r\n    <div v-if=\"isLoading\" class=\"loading-box\">\r\n      <p>‚è≥ Memproses... Mohon tunggu</p>\r\n    </div>\r\n\r\n    <!-- Display Results -->\r\n    <div v-if=\"!isLoading && (transcription || summary || finalSummary)\" class=\"output-section\">\r\n      <h3 v-if=\"transcription\">üìÑ Transcription</h3>\r\n      <p v-if=\"transcription\" v-html=\"formattedTranscription\"></p>\r\n\r\n      <h3 v-if=\"summary\">üìù Summary</h3>\r\n      <p v-if=\"summary\" v-html=\"formattedSummary\"></p>\r\n\r\n      <h3 v-if=\"finalSummary\">üìå Final Summary</h3>\r\n      <p v-if=\"finalSummary\" v-html=\"formattedFinalSummary\"></p>\r\n    </div>\r\n\r\n    <!-- Error Message -->\r\n    <div v-if=\"errorMessage\" class=\"error-box\">\r\n      <p>‚ö†Ô∏è {{ errorMessage }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../api\";\r\nimport LoadingSpinner from \"./LoadingSpinner.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    LoadingSpinner,\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      errorMessage: \"\",\r\n      file: null,\r\n      fileName: \"\",\r\n      transcription: \"\",\r\n      summary: \"\",\r\n      finalSummary: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    formattedTranscription() {\r\n      return this.transcription ? this.transcription.replace(/\\n/g, \"<br>\") : \"\";\r\n    },\r\n    formattedSummary() {\r\n      return this.summary ? this.summary.replace(/\\n/g, \"<br>\") : \"\";\r\n    },\r\n    formattedFinalSummary() {\r\n      return this.finalSummary ? this.finalSummary.replace(/\\n/g, \"<br>\") : \"\";\r\n    },\r\n  },\r\n  methods: {\r\n    triggerFileInput() {\r\n      if (this.$refs.fileInput) {\r\n        this.$refs.fileInput.click();\r\n      }\r\n    },\r\n    async handleFileUpload(event) {\r\n      const file = event.target.files[0];\r\n      if (!file) return;\r\n\r\n      this.fileName = file.name;\r\n      this.isLoading = true;\r\n      this.errorMessage = \"\"; // Reset error message\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      try {\r\n        const response = await axios.post(\"/summarize\", formData, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        });\r\n\r\n        console.log(\"Response dari backend:\", response.data); // Debugging\r\n\r\n        if (response.data.error) {\r\n          this.errorMessage = response.data.error;\r\n        } else {\r\n          this.transcription = response.data.transcription || \"Tidak ada transkripsi.\";\r\n          this.summary = response.data.summary || \"Tidak ada ringkasan.\";\r\n          this.finalSummary = response.data.final_summary || \"Tidak ada ringkasan akhir.\";\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error uploading file:\", error);\r\n        this.errorMessage = \"Terjadi kesalahan saat mengunggah file.\";\r\n      } finally {\r\n        setTimeout(() => {\r\n          this.isLoading = false; // Pastikan loading tidak hilang terlalu cepat\r\n        }, 500); // Tambahkan delay kecil untuk memastikan UI terlihat smooth\r\n        this.resetFileInput();\r\n      }\r\n    },\r\n    resetFileInput() {\r\n      if (this.$refs.fileInput) {\r\n        this.$refs.fileInput.value = \"\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Container utama */\r\n.container {\r\n  max-width: 700px;\r\n  margin: auto;\r\n  padding: 20px;\r\n  text-align: center;\r\n}\r\n\r\n/* Loading Box */\r\n.loading-box {\r\n  background: #f0f0f0;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  color: #007bff;\r\n  font-weight: bold;\r\n  margin-top: 20px;\r\n}\r\n\r\n/* Output Section */\r\n.output-section {\r\n  background: #fff;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  margin-top: 20px;\r\n  text-align: left;\r\n}\r\n\r\n/* Error Message */\r\n.error-box {\r\n  background: #ffcccc;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  color: #d8000c;\r\n  font-weight: bold;\r\n  margin-top: 20px;\r\n}\r\n\r\nh3 {\r\n  font-size: 18px;\r\n  margin-top: 15px;\r\n  color: #333;\r\n}\r\n\r\np {\r\n  background: #f8f9fa;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  color: #333;\r\n  text-align: left;\r\n  word-wrap: break-word;\r\n  white-space: pre-wrap;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EADxBC,GAAA;AAAA;;EAAAA,GAAA;AAAA;;EAAAA,GAAA;EAc0BD,KAAK,EAAC;;;EAdhCC,GAAA;EAmByED,KAAK,EAAC;;;EAnB/EC,GAAA;AAAA;mBAAA;;EAAAA,GAAA;AAAA;mBAAA;;EAAAA,GAAA;AAAA;oBAAA;;EAAAA,GAAA;EA+B6BD,KAAK,EAAC;;;uBA9BjCE,mBAAA,CAiCM,OAjCNC,UAiCM,G,0BAhCJC,mBAAA,CAEK,aADHA,mBAAA,CAA4B;IAAtBJ,KAAK,EAAC;EAAM,GAAC,IAAE,GAH3BK,gBAAA,CAGkC,sBAC9B,E,sBAEAC,mBAAA,yBAA4B,EAC5BF,mBAAA,CAIM;IAJDJ,KAAK,EAAC,YAAY;IAAEO,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAPlCC,cAAA,KAAAC,IAAA,KAOyCC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB;OACzCG,KAAA,CAAAC,QAAQ,I,cAAlBZ,mBAAA,CAAiE,KARvEa,UAAA,EAQ0B,2CAAyC,M,cAC7Db,mBAAA,CAA+B,KATrCc,UAAA,EASgB,KAAG,GAAAC,gBAAA,CAAGJ,KAAA,CAAAC,QAAQ,mBACxBV,mBAAA,CAA8E;IAAvEc,IAAI,EAAC,MAAM;IAACC,GAAG,EAAC,WAAW;IAAEC,QAAM,EAAAZ,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAU,gBAAA,IAAAV,QAAA,CAAAU,gBAAA,IAAAX,IAAA,CAAgB;IAAEY,MAAM,EAAC;oDAGvEhB,mBAAA,uBAA0B,EACfO,KAAA,CAAAU,SAAS,I,cAApBrB,mBAAA,CAEM,OAFNsB,UAEM,EAAAhB,MAAA,QAAAA,MAAA,OADJJ,mBAAA,CAAkC,WAA/B,6BAA2B,oB,MAfpCE,mBAAA,gBAkBIA,mBAAA,qBAAwB,E,CACZO,KAAA,CAAAU,SAAS,KAAKV,KAAA,CAAAY,aAAa,IAAIZ,KAAA,CAAAa,OAAO,IAAIb,KAAA,CAAAc,YAAY,K,cAAlEzB,mBAAA,CASM,OATN0B,UASM,GARMf,KAAA,CAAAY,aAAa,I,cAAvBvB,mBAAA,CAA8C,MApBpD2B,UAAA,EAoB+B,kBAAgB,KApB/CvB,mBAAA,gBAqBeO,KAAA,CAAAY,aAAa,I,cAAtBvB,mBAAA,CAA4D;IArBlED,GAAA;IAqB8B6B,SAA+B,EAAvBnB,QAAA,CAAAoB;0BArBtCC,UAAA,KAAA1B,mBAAA,gBAuBgBO,KAAA,CAAAa,OAAO,I,cAAjBxB,mBAAA,CAAkC,MAvBxC+B,UAAA,EAuByB,YAAU,KAvBnC3B,mBAAA,gBAwBeO,KAAA,CAAAa,OAAO,I,cAAhBxB,mBAAA,CAAgD;IAxBtDD,GAAA;IAwBwB6B,SAAyB,EAAjBnB,QAAA,CAAAuB;0BAxBhCC,UAAA,KAAA7B,mBAAA,gBA0BgBO,KAAA,CAAAc,YAAY,I,cAAtBzB,mBAAA,CAA6C,MA1BnDkC,WAAA,EA0B8B,kBAAgB,KA1B9C9B,mBAAA,gBA2BeO,KAAA,CAAAc,YAAY,I,cAArBzB,mBAAA,CAA0D;IA3BhED,GAAA;IA2B6B6B,SAA8B,EAAtBnB,QAAA,CAAA0B;0BA3BrCC,WAAA,KAAAhC,mBAAA,e,KAAAA,mBAAA,gBA8BIA,mBAAA,mBAAsB,EACXO,KAAA,CAAA0B,YAAY,I,cAAvBrC,mBAAA,CAEM,OAFNsC,WAEM,GADJpC,mBAAA,CAA4B,WAAzB,KAAG,GAAAa,gBAAA,CAAGJ,KAAA,CAAA0B,YAAY,iB,KAhC3BjC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}